{"remainingRequest":"D:\\code\\vue-软件工程课程设计\\bookstore\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js!D:\\code\\vue-软件工程课程设计\\bookstore\\node_modules\\_eslint-loader@2.2.1@eslint-loader\\index.js??ref--13-0!D:\\code\\vue-软件工程课程设计\\bookstore\\src\\store\\modules\\cart.js","dependencies":[{"path":"D:\\code\\vue-软件工程课程设计\\bookstore\\src\\store\\modules\\cart.js","mtime":1598091652985},{"path":"D:\\code\\vue-软件工程课程设计\\bookstore\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code\\vue-软件工程课程设计\\bookstore\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\code\\vue-软件工程课程设计\\bookstore\\node_modules\\_eslint-loader@2.2.1@eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZWR1Y2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwp2YXIgc3RhdGUgPSB7CiAgaXRlbXM6IFtdIC8vcXVhbnRpdHk6IDAKCn07IC8vIG11dGF0aW9ucwoKdmFyIG11dGF0aW9ucyA9IHsKICAvLyDmt7vliqDllYblk4HliLDotK3nianovabkuK0KICBwdXNoUHJvZHVjdFRvQ2FydDogZnVuY3Rpb24gcHVzaFByb2R1Y3RUb0NhcnQoc3RhdGUsIF9yZWYpIHsKICAgIHZhciBpZCA9IF9yZWYuaWQsCiAgICAgICAgaW1nVXJsID0gX3JlZi5pbWdVcmwsCiAgICAgICAgdGl0bGUgPSBfcmVmLnRpdGxlLAogICAgICAgIHByaWNlID0gX3JlZi5wcmljZSwKICAgICAgICBxdWFudGl0eSA9IF9yZWYucXVhbnRpdHk7CiAgICBpZiAoIXF1YW50aXR5KSBxdWFudGl0eSA9IDE7CiAgICBzdGF0ZS5pdGVtcy5wdXNoKHsKICAgICAgaWQ6IGlkLAogICAgICBpbWdVcmw6IGltZ1VybCwKICAgICAgdGl0bGU6IHRpdGxlLAogICAgICBwcmljZTogcHJpY2UsCiAgICAgIHF1YW50aXR5OiBxdWFudGl0eQogICAgfSk7CiAgfSwKICAvLyDlop7liqDllYblk4HmlbDph48KICBpbmNyZW1lbnRJdGVtUXVhbnRpdHk6IGZ1bmN0aW9uIGluY3JlbWVudEl0ZW1RdWFudGl0eShzdGF0ZSwgX3JlZjIpIHsKICAgIHZhciBpZCA9IF9yZWYyLmlkLAogICAgICAgIHF1YW50aXR5ID0gX3JlZjIucXVhbnRpdHk7CiAgICB2YXIgY2FydEl0ZW0gPSBzdGF0ZS5pdGVtcy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiBpdGVtLmlkID09IGlkOwogICAgfSk7CiAgICBjYXJ0SXRlbS5xdWFudGl0eSArPSBxdWFudGl0eTsKICB9LAogIC8vIOeUqOS6jua4heepuui0reeJqei9pgogIHNldENhcnRJdGVtczogZnVuY3Rpb24gc2V0Q2FydEl0ZW1zKHN0YXRlLCBfcmVmMykgewogICAgdmFyIGl0ZW1zID0gX3JlZjMuaXRlbXM7CiAgICBzdGF0ZS5pdGVtcyA9IGl0ZW1zOwogIH0sCiAgLy8g5Yig6Zmk6LSt54mp6L2m5Lit55qE5Lqn5ZOBCiAgZGVsZXRlQ2FydEl0ZW06IGZ1bmN0aW9uIGRlbGV0ZUNhcnRJdGVtKHN0YXRlLCBpZCkgewogICAgdmFyIGluZGV4ID0gc3RhdGUuaXRlbXMuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiBpdGVtLmlkID09PSBpZDsKICAgIH0pOwogICAgaWYgKGluZGV4ID4gLTEpIHN0YXRlLml0ZW1zLnNwbGljZShpbmRleCwgMSk7CiAgfQp9Owp2YXIgZ2V0dGVycyA9IHsKICAvLyDorqHnrpfotK3nianovabkuK3miYDmnInllYblk4HnmoTmgLvku7cKICBjYXJ0VG90YWxQcmljZTogZnVuY3Rpb24gY2FydFRvdGFsUHJpY2Uoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5pdGVtcy5yZWR1Y2UoZnVuY3Rpb24gKHRvdGFsLCBwcm9kdWN0KSB7CiAgICAgIHJldHVybiB0b3RhbCArIHByb2R1Y3QucHJpY2UgKiBwcm9kdWN0LnF1YW50aXR5OwogICAgfSwgMCk7CiAgfSwKICAvLyDorqHnrpfotK3nianovabkuK3ljZXpobnllYblk4HnmoTku7fmoLwKICBjYXJ0SXRlbVByaWNlOiBmdW5jdGlvbiBjYXJ0SXRlbVByaWNlKHN0YXRlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGlkKSB7CiAgICAgIGlmIChzdGF0ZS5pdGVtcy5sZW5ndGggPiAwKSB7CiAgICAgICAgdmFyIGNhcnRJdGVtID0gc3RhdGUuaXRlbXMuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT09IGlkOwogICAgICAgIH0pOwoKICAgICAgICBpZiAoY2FydEl0ZW0pIHsKICAgICAgICAgIHJldHVybiBjYXJ0SXRlbS5wcmljZSAqIGNhcnRJdGVtLnF1YW50aXR5OwogICAgICAgIH0KICAgICAgfQogICAgfTsKICB9LAogIC8vIOiOt+WPlui0reeJqei9puS4reWVhuWTgeeahOaVsOmHjwogIGl0ZW1zQ291bnQ6IGZ1bmN0aW9uIGl0ZW1zQ291bnQoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5pdGVtcy5sZW5ndGg7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICAvLyDlop7liqDku7vmhI/mlbDph4/nmoTllYblk4HliLDotK3nianovaYKICBhZGRQcm9kdWN0VG9DYXJ0OiBmdW5jdGlvbiBhZGRQcm9kdWN0VG9DYXJ0KF9yZWY0LCBfcmVmNSkgewogICAgdmFyIHN0YXRlID0gX3JlZjQuc3RhdGUsCiAgICAgICAgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgdmFyIGlkID0gX3JlZjUuaWQsCiAgICAgICAgaW1nVXJsID0gX3JlZjUuaW1nVXJsLAogICAgICAgIHRpdGxlID0gX3JlZjUudGl0bGUsCiAgICAgICAgcHJpY2UgPSBfcmVmNS5wcmljZSwKICAgICAgICBpbnZlbnRvcnkgPSBfcmVmNS5pbnZlbnRvcnksCiAgICAgICAgcXVhbnRpdHkgPSBfcmVmNS5xdWFudGl0eTsKCiAgICBpZiAoaW52ZW50b3J5ID4gMCkgewogICAgICB2YXIgY2FydEl0ZW0gPSBzdGF0ZS5pdGVtcy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT0gaWQ7CiAgICAgIH0pOwoKICAgICAgaWYgKCFjYXJ0SXRlbSkgewogICAgICAgIGNvbW1pdCgncHVzaFByb2R1Y3RUb0NhcnQnLCB7CiAgICAgICAgICBpZDogaWQsCiAgICAgICAgICBpbWdVcmw6IGltZ1VybCwKICAgICAgICAgIHRpdGxlOiB0aXRsZSwKICAgICAgICAgIHByaWNlOiBwcmljZSwKICAgICAgICAgIHF1YW50aXR5OiBxdWFudGl0eQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbW1pdCgnaW5jcmVtZW50SXRlbVF1YW50aXR5JywgewogICAgICAgICAgaWQ6IGlkLAogICAgICAgICAgcXVhbnRpdHk6IHF1YW50aXR5CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBzdGF0ZSwKICBtdXRhdGlvbnM6IG11dGF0aW9ucywKICBnZXR0ZXJzOiBnZXR0ZXJzLAogIGFjdGlvbnM6IGFjdGlvbnMKfTs="},{"version":3,"sources":["D:/code/vue-软件工程课程设计/bookstore/src/store/modules/cart.js"],"names":["state","items","mutations","pushProductToCart","id","imgUrl","title","price","quantity","push","incrementItemQuantity","cartItem","find","item","setCartItems","deleteCartItem","index","findIndex","splice","getters","cartTotalPrice","reduce","total","product","cartItemPrice","length","itemsCount","actions","addProductToCart","commit","inventory","namespaced"],"mappings":"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","sourcesContent":["const state = {\r\n  items: [],\r\n  //quantity: 0\r\n}\r\n// mutations\r\nconst mutations = {\r\n  // 添加商品到购物车中\r\n  pushProductToCart(state, { id, imgUrl, title, price, quantity}) {\r\n    if(! quantity)\r\n      quantity = 1;\r\n    state.items.push({ id, imgUrl, title, price, quantity });\r\n  },\r\n\r\n  // 增加商品数量\r\n  incrementItemQuantity(state, { id, quantity }) {\r\n    let cartItem = state.items.find(item => item.id == id);\r\n    cartItem.quantity += quantity;\r\n  },\r\n  // 用于清空购物车\r\n  setCartItems(state, { items }) {\r\n    state.items = items\r\n  },\r\n\r\n  // 删除购物车中的产品\r\n  deleteCartItem(state, id){\r\n    let index = state.items.findIndex(item => item.id === id);\r\n    if(index > -1)\r\n      state.items.splice(index, 1);\r\n  }\r\n}\r\n\r\n\r\nconst getters = {\r\n  // 计算购物车中所有商品的总价\r\n  cartTotalPrice: (state) => {\r\n    return state.items.reduce((total, product) => {\r\n      return total + product.price * product.quantity\r\n    }, 0)\r\n  },\r\n  // 计算购物车中单项商品的价格\r\n  cartItemPrice: (state) => (id) => {\r\n    if (state.items.length > 0) {\r\n      const cartItem = state.items.find(item => item.id === id);\r\n      if (cartItem) {\r\n        return cartItem.price * cartItem.quantity;\r\n      }\r\n    }\r\n  },\r\n  // 获取购物车中商品的数量\r\n  itemsCount: (state) => {\r\n    return state.items.length;\r\n  }\r\n}\r\nconst actions = {\r\n  // 增加任意数量的商品到购物车\r\n  addProductToCart({ state, commit }, \r\n    { id, imgUrl, title, price, inventory, quantity }) {\r\n    if (inventory > 0) {\r\n      const cartItem = state.items.find(item => item.id == id);\r\n      if (!cartItem) {\r\n        commit('pushProductToCart', { id, imgUrl, title, price, quantity })\r\n      } else {\r\n        commit('incrementItemQuantity', { id, quantity })\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  mutations,\r\n  getters,\r\n  actions\r\n}"]}]}